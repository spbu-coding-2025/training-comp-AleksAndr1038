# Упражнение на компиляцию

В данном упражнении вам предстоит вспомнить, как препроцессировать, компилировать, ассемблировать и линковать.

Вам предстоит написать соответствующие команды в файлы

## `scripts/preprocess.sh`

В этот скрипт надо написать команду, препроцессирующую файл `src/main.c` и сохраняющую результат в `build/main.i`.

## `scripts/compile.sh`

В этот скрипт надо написать команду, компилирующую файл `src/main.c` в ассемблерный файл и сохраняющую результат в `build/main.s`.

## `scripts/assemble.sh`

В этот скрипт надо написать команду, компилирующую файл `src/main.c` в объектный файл и сохраняющую результат в `build/main.o`.

## `scripts/link.sh`

В этот скрипт надо написать команду, компонующую объектный файл `build/main.o` в исполняемый и сохраняющую результат в `build/main`.

## Пара замечаний

Тесты предполагают, что программа будет компилироваться без оптимизаций.

> [!TIP]
> В скриптах уже определены переменные `SRCDIR` и `BUILDDIR`.
> Они нужны, чтобы скрипт при запуске из любой рабочей директории находил нужные директории.
> Чтобы их использовать, вам понадобится конструкция `$SRCDIR`.
> Например, путь до файла с исходным кодом будет `$SRCDIR/main.c`.

> [!TIP]
> Помните, что напрямую вызывать утилиты, выполняющие то или иное действие может быть неудобно (вспомните, сколько `gcc` туда флажков добавляет).
> Поэтому чаще всего удобно воспользоваться драйвером, то есть `gcc`/`clang`.

> [!NOTE]
> В директории `build` есть пустой файл `.keep`.
> Такие файлы создают, чтобы _git_ отслеживал директории.
